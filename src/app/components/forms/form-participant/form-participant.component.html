<form class="space-y-5" [formGroup]="participantForm" (ngSubmit)="onSubmit()">

  <div>
    <label for="name" [class]="(participantForm.get('name')?.touched && participantForm.get('name')?.errors ? 'text-red-500 ' : '') + 'block mb-2'">Nom</label>
    <input
      id="name"
      pInputText
      formControlName="name"
      [class]="(participantForm.get('name')?.touched && participantForm.get('name')?.errors ? 'ng-invalid ng-dirty  ' : '') + 'w-full'"
    />
  </div>

  <div>
    <label for="email" [class]="(participantForm.get('email')?.touched && participantForm.get('email')?.errors ? 'text-red-500 ' : '') + 'block mb-2'">Adresse mail</label>
    <input
      id="email"
      pInputText
      formControlName="email"
      [class]="(participantForm.get('email')?.touched && participantForm.get('email')?.errors ? 'ng-invalid ng-dirty  ' : '') + 'w-full'"
      (change)="onEmailChange()"
    />
  </div>

  <div>
    <label for="policy" [class]="(participantForm.get('policy')?.touched && participantForm.get('policy')?.errors ? 'text-red-500 ' : '') + 'block mb-2'">Permission</label>
    <p-dropdown id="policy" [options]="[{name: 'Voir', code: 'read'},{name: 'Modification', code: 'write'}]" formControlName="policy" optionLabel="name" optionValue="code" styleClass="w-full" />
  </div>

  <p-button type="submit" label="Sauvegarder" styleClass="mt-8" [loading]="isSubmitting" />
</form>
